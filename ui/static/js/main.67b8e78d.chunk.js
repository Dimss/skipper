(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{260:function(e,t,n){e.exports=n(490)},265:function(e,t,n){},489:function(e,t,n){},490:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(8),c=n.n(s),o=(n(265),n(18)),i=n(19),l=n(28),u=n(26),p=n(29),d=(n(266),n(83)),h=n(494),y=n(496),f=(n(268),n(256)),g=(n(269),n(178)),k=(n(492),n(71)),m=(n(491),n(177)),b=(n(276),n(255)),O=n(12),E=n.n(O),v=n(9),S=n(37),j=n(242),D=n.n(j),w=function(){function e(){Object(o.a)(this,e),this.API="/api",console.log("API URL ===> "+this.API)}return Object(i.a)(e,[{key:"getRolesSankeyGraphData",value:function(e){return this.execRequest("get","/roles?ns=".concat(e))}},{key:"getRolesBindingsSankeyGraphData",value:function(e){return this.execRequest("get","/bindings?ns=".concat(e))}},{key:"getNamespaces",value:function(){return this.execRequest("get","/namespaces")}},{key:"getClusterRolesSankeyGraphData",value:function(){return this.execRequest("get","/clusterroles")}},{key:"getClusterRolesBindingsSankeyGraphData",value:function(){return this.execRequest("get","/clusterrolesbindings")}},{key:"execRequest",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return D()({method:e,url:this.API+t,data:n}).then(function(e){return Promise.resolve([null,e])}).catch(function(e){return Promise.resolve([e])})}}]),e}(),R=function(e){return{type:"SET_ROLES_SYANKEY_DATA",sankeyData:e}};function _(){return function(){var e=Object(S.a)(E.a.mark(function e(t,n){var a,r,s,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().appMenuReducer.selectedNs,e.next=3,(new w).getRolesSankeyGraphData(a);case 3:s=e.sent,c=Object(v.a)(s,2),c[0],r=c[1],t(R(null)),null===r.data.nodes||null===r.data.links?t(x("warning","Empty result set for namespace "+a)):t(R(r.data));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var T=function(e){return{type:"SET_ROLES_BINDINGS_SYANKEY_DATA",sankeyData:e}};function N(){return function(){var e=Object(S.a)(E.a.mark(function e(t,n){var a,r,s,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n().appMenuReducer.selectedNs,console.log("--------------------------------"),e.next=4,(new w).getRolesBindingsSankeyGraphData(r);case 4:s=e.sent,c=Object(v.a)(s,2),c[0],a=c[1],console.log("--------------------------------"),console.log(a),console.log("--------------------------------"),t(T(null)),null===a.data.nodes||null===a.data.links?t(x("warning","Empty result set for namespace "+r)):t(T(a.data));case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var A=function(e){return{type:"SET_NAMESPACES",namespaces:e}},C=function(e){return{type:"SET_SELECTED_KEYS",keyPath:e}};function x(e,t,n){return function(){var a=Object(S.a)(E.a.mark(function a(r,s){return E.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b.a[e]({message:t,description:n});case 1:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()}var P=n(112),K=m.a.Option,L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.pathname.split("/");e.shift(),console.log("asdas"),this.props.dispatch(C(e)),this.props.dispatch({type:"SET_OPEN_KEYS",keyPath:[e[0]]})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,null,r.a.createElement(g.a,{span:18},r.a.createElement(k.a,{theme:"dark",mode:"horizontal",selectedKeys:this.props.selectedKeys,style:{lineHeight:"50px"},onClick:function(t){e.props.dispatch(C(t.keyPath)),e.props.dispatch(Object(P.push)(t.keyPath.join("/")))}},r.a.createElement(k.a.Item,{key:"roles"},"Roles"),r.a.createElement(k.a.Item,{key:"rolebindings"},"Roles Binding"),r.a.createElement(k.a.Item,{key:"clusterroles"},"Cluster Roles"),r.a.createElement(k.a.Item,{key:"clusterrolebinding"},"Cluster Roles Binding "))),r.a.createElement(g.a,{span:4},r.a.createElement("div",{style:{marginTop:-6}},r.a.createElement(m.a,{showSearch:!0,style:{width:200},placeholder:"Select a person",optionFilterProp:"children",onChange:function(t){e.props.dispatch({type:"SET_SELECTED_NS",selectedNs:t}),e.props.dispatch(function(){var e=Object(S.a)(E.a.mark(function e(t,n){var a,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n().appMenuReducer.selectedKeys,r=a[a.length-1],e.t0=r,e.next="roles"===e.t0?5:"rolebindings"===e.t0?7:9;break;case 5:return t(_()),e.abrupt("break",9);case 7:return t(N()),e.abrupt("break",9);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())},onFocus:function(){e.props.dispatch(function(){var e=Object(S.a)(E.a.mark(function e(t,n){var a,r,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new w).getNamespaces();case 2:r=e.sent,(s=Object(v.a)(r,2))[0],a=s[1],t(A(a.data));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())},defaultValue:this.props.selectedNs,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.props.namespaces.map(function(e,t){return r.a.createElement(K,{key:t,value:e},e)})))))}}]),t}(r.a.Component),I=n(22),B=Object(I.c)(function(e,t){return{selectedKeys:e.appMenuReducer.selectedKeys,openKeys:e.appMenuReducer.openKeys,namespaces:e.appMenuReducer.namespaces,selectedNs:e.appMenuReducer.selectedNs}},function(e){return{dispatch:e}})(L),G=n(51),Y=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).getSankey=function(){return r.a.createElement(G.a,{data:n.props.sankeyData,align:"justify",colors:{scheme:"nivo"},margin:{bottom:40},sort:"descending",nodeOpacity:1,nodeThickness:18,nodeInnerPadding:3,nodeSpacing:24,nodeBorderWidth:0,linkOpacity:.5,linkHoverOthersOpacity:.1,enableLinkGradient:!1,labelPosition:"inside",labelOrientation:"horizontal",labelPadding:2,labelTextColor:"#000000",animate:!1,onClick:function(e,t){console.log(e),console.log(t)}})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){console.log("-----------------------------asasdasdas-"),this.props.dispatch(_()),console.log("-------------------------asdasdasdas-----")}},{key:"render",value:function(){return r.a.createElement("div",{className:"sankeyGraph",style:{height:800,fontSize:10}},null===this.props.sankeyData?"":this.getSankey())}}]),t}(r.a.Component),M=Object(I.c)(function(e,t){return{sankeyData:e.rolesReducer.sankeyData}},function(e){return{dispatch:e}})(Y),W=function(e){return{type:"SET_CLUSERR_ROLES_SYANKEY_DATA",sankeyData:e}};var z=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).getSankey=function(){return r.a.createElement(G.a,{data:n.props.sankeyData,align:"justify",colors:{scheme:"nivo"},margin:{bottom:40},sort:"descending",nodeOpacity:1,nodeThickness:18,nodeInnerPadding:3,nodeSpacing:24,nodeBorderWidth:0,linkOpacity:.5,linkHoverOthersOpacity:.1,enableLinkGradient:!1,labelPosition:"inside",labelOrientation:"horizontal",labelPadding:2,labelTextColor:"#000000",animate:!1,onClick:function(e,t){console.log(e),console.log(t)}})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){console.log("asdasdas---------------------------------"),this.props.dispatch(function(){var e=Object(S.a)(E.a.mark(function e(t,n){var a,r,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new w).getClusterRolesSankeyGraphData();case 2:r=e.sent,(s=Object(v.a)(r,2))[0],a=s[1],t(W(null)),null===a.data.nodes||null===a.data.links?t(x("warning","Empty result set for cluster roles")):t(W(a.data));case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()),console.log("asdasdas")}},{key:"render",value:function(){return r.a.createElement("div",{className:"sankeyGraph",style:{height:1e4,fontSize:10}},null===this.props.sankeyData?"":this.getSankey())}}]),t}(r.a.Component),q=Object(I.c)(function(e,t){return{sankeyData:e.clusterRolesReducer.sankeyData}},function(e){return{dispatch:e}})(z),H=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).getSankey=function(){return r.a.createElement(G.a,{data:n.props.sankeyData,align:"justify",colors:{scheme:"nivo"},margin:{bottom:40},sort:"descending",nodeOpacity:1,nodeThickness:18,nodeInnerPadding:3,nodeSpacing:24,nodeBorderWidth:0,linkOpacity:.5,linkHoverOthersOpacity:.1,enableLinkGradient:!1,labelPosition:"inside",labelOrientation:"horizontal",labelPadding:2,labelTextColor:"#000000",animate:!1})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(N())}},{key:"render",value:function(){return r.a.createElement("div",{className:"sankeyGraph",style:{height:800,fontSize:10}},null===this.props.sankeyData?"":this.getSankey())}}]),t}(r.a.Component),U=Object(I.c)(function(e,t){return{sankeyData:e.roleBindingsReducer.sankeyData}},function(e){return{dispatch:e}})(H),F=function(e){return{type:"SET_CLUSTER_ROLES_BINDINGS_SYANKEY_DATA",sankeyData:e}};var J=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).getSankey=function(){return r.a.createElement(G.a,{data:n.props.sankeyData,align:"justify",colors:{scheme:"nivo"},margin:{bottom:40},sort:"descending",nodeOpacity:1,nodeThickness:18,nodeInnerPadding:3,nodeSpacing:24,nodeBorderWidth:0,linkOpacity:.5,linkHoverOthersOpacity:.1,enableLinkGradient:!1,labelPosition:"inside",labelOrientation:"horizontal",labelPadding:2,labelTextColor:"#000000",animate:!1})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.props.dispatch(function(){var e=Object(S.a)(E.a.mark(function e(t,n){var a,r,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new w).getClusterRolesBindingsSankeyGraphData();case 2:r=e.sent,(s=Object(v.a)(r,2))[0],a=s[1],t(F(null)),null===a.data.nodes||null===a.data.links?t(x("warning","Empty result set for cluster role bindings ")):t(F(a.data));case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return r.a.createElement("div",{className:"sankeyGraph",style:{height:1e4,fontSize:10}},null===this.props.sankeyData?"":this.getSankey())}}]),t}(r.a.Component),V=Object(I.c)(function(e,t){return{sankeyData:e.clusterRolesBindingsReducer.sankeyData}},function(e){return{dispatch:e}})(J),$=d.a.Content,Q=d.a.Header,X=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(Q,null,r.a.createElement("div",{className:"logo"},"skipper"),r.a.createElement(B,null)),r.a.createElement(d.a,null,r.a.createElement($,{style:{margin:"24px 16px",padding:24,background:"#f0f2f5"}},r.a.createElement(h.a,{path:"/ui/",exact:!0,render:function(){return r.a.createElement(y.a,{to:"/ui/roles"})}}),r.a.createElement(h.a,{path:"/ui/roles",component:M}),r.a.createElement(h.a,{path:"/ui/rolebindings",exact:!0,component:U}),r.a.createElement(h.a,{path:"/ui/clusterroles",exact:!0,component:q}),r.a.createElement(h.a,{path:"/ui/clusterrolebinding",exact:!0,component:V}))))}}]),t}(r.a.Component),Z=(n(489),n(120)),ee=n(495),te=n(68),ne=n(70),ae=n(254),re={selectedKeys:[],openKeys:[],namespaces:[],selectedNs:"kube-service-catalog"},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_KEYS":var n=window.location.pathname.split("/");return n.splice(n.indexOf(""),1),Object.assign({},e,{selectedKeys:t.keyPath});case"SET_OPEN_KEYS":return Object.assign({},e,{openKeys:t.keyPath});case"SET_NAMESPACES":return Object.assign({},e,{namespaces:t.namespaces});case"SET_SELECTED_NS":return Object.assign({},e,{selectedNs:t.selectedNs});default:return e}},ce={},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return(arguments.length>1?arguments[1]:void 0).type,e},ie={sankeyData:null},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROLES_SYANKEY_DATA":return Object.assign({},e,{sankeyData:t.sankeyData});default:return e}},ue={sankeyData:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLUSERR_ROLES_SYANKEY_DATA":return Object.assign({},e,{sankeyData:t.sankeyData});default:return e}},de={sankeyData:null},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CLUSTER_ROLES_BINDINGS_SYANKEY_DATA":return Object.assign({},e,{sankeyData:t.sankeyData});default:return e}},ye={sankeyData:null},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ROLES_BINDINGS_SYANKEY_DATA":return Object.assign({},e,{sankeyData:t.sankeyData});default:return e}},ge=Object(ne.a)(),ke=Object(P.routerMiddleware)(ge),me=Object(te.d)(Object(te.c)({appMenuReducer:se,dashboardReducer:oe,rolesReducer:le,clusterRolesReducer:pe,roleBindingsReducer:fe,clusterRolesBindingsReducer:he,router:Object(Z.b)(ge)}),Object(te.a)(ae.a,ke)),be=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(I.a,{store:me},r.a.createElement(Z.a,{history:ge,basename:window.location.pathname},r.a.createElement(ee.a,null,r.a.createElement(X,null))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[260,1,2]]]);
//# sourceMappingURL=main.67b8e78d.chunk.js.map